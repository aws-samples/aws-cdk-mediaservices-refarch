{
    "TimecodeConfig": {
        "Source": "ZEROBASED"
    },
    "OutputGroups": [
        {
            "Name": "CMAF",
            "Outputs": [
                {
                    "ContainerSettings": {
                        "Container": "CMFC"
                    },
                    "VideoDescription": {
                        "Width": 960,
                        "Height": 540,
                        "CodecSettings": {
                            "Codec": "H_264",
                            "H264Settings": {
                                "ParNumerator": 1,
                                "NumberReferenceFrames": 3,
                                "FramerateDenominator": 1000,
                                "GopClosedCadence": 1,
                                "GopSize": 112,
                                "GopBReference": "ENABLED",
                                "MaxBitrate": 3000000,
                                "ParDenominator": 1,
                                "FramerateControl": "SPECIFIED",
                                "RateControlMode": "QVBR",
                                "CodecProfile": "HIGH",
                                "FramerateNumerator": 50000,
                                "MinIInterval": 0,
                                "AdaptiveQuantization": "AUTO",
                                "CodecLevel": "AUTO",
                                "GopSizeUnits": "FRAMES",
                                "ParControl": "SPECIFIED",
                                "NumberBFramesBetweenReferenceFrames": 3,
                                "DynamicSubGop": "ADAPTIVE"
                            }
                        },
                        "ColorMetadata": "IGNORE"
                    },
                    "NameModifier": "-3000"
                },
                {
                    "ContainerSettings": {
                        "Container": "CMFC"
                    },
                    "VideoDescription": {
                        "Width": 1920,
                        "Height": 1080,
                        "CodecSettings": {
                            "Codec": "H_264",
                            "H264Settings": {
                                "ParNumerator": 1,
                                "NumberReferenceFrames": 3,
                                "FramerateDenominator": 1000,
                                "GopClosedCadence": 1,
                                "GopSize": 112,
                                "GopBReference": "ENABLED",
                                "MaxBitrate": 7500000,
                                "ParDenominator": 1,
                                "FramerateControl": "SPECIFIED",
                                "RateControlMode": "QVBR",
                                "CodecProfile": "HIGH",
                                "FramerateNumerator": 50000,
                                "MinIInterval": 0,
                                "AdaptiveQuantization": "AUTO",
                                "CodecLevel": "AUTO",
                                "GopSizeUnits": "FRAMES",
                                "ParControl": "SPECIFIED",
                                "NumberBFramesBetweenReferenceFrames": 3,
                                "DynamicSubGop": "ADAPTIVE"
                            }
                        },
                        "ColorMetadata": "IGNORE"
                    },
                    "NameModifier": "-7500"
                },
                {
                    "ContainerSettings": {
                        "Container": "CMFC"
                    },
                    "VideoDescription": {
                        "Width": 1280,
                        "Height": 720,
                        "CodecSettings": {
                            "Codec": "H_264",
                            "H264Settings": {
                                "ParNumerator": 1,
                                "NumberReferenceFrames": 3,
                                "FramerateDenominator": 1000,
                                "GopClosedCadence": 1,
                                "GopSize": 112,
                                "GopBReference": "ENABLED",
                                "MaxBitrate": 4500000,
                                "ParDenominator": 1,
                                "FramerateControl": "SPECIFIED",
                                "RateControlMode": "QVBR",
                                "CodecProfile": "HIGH",
                                "FramerateNumerator": 50000,
                                "MinIInterval": 0,
                                "AdaptiveQuantization": "AUTO",
                                "CodecLevel": "AUTO",
                                "GopSizeUnits": "FRAMES",
                                "ParControl": "SPECIFIED",
                                "NumberBFramesBetweenReferenceFrames": 3,
                                "DynamicSubGop": "ADAPTIVE"
                            }
                        },
                        "ColorMetadata": "IGNORE"
                    },
                    "NameModifier": "-4500"
                },
                {
                    "ContainerSettings": {
                        "Container": "CMFC"
                    },
                    "VideoDescription": {
                        "Width": 640,
                        "Height": 360,
                        "CodecSettings": {
                            "Codec": "H_264",
                            "H264Settings": {
                                "ParNumerator": 1,
                                "NumberReferenceFrames": 3,
                                "FramerateDenominator": 1000,
                                "GopClosedCadence": 1,
                                "GopSize": 112,
                                "GopBReference": "ENABLED",
                                "MaxBitrate": 1800000,
                                "ParDenominator": 1,
                                "FramerateControl": "SPECIFIED",
                                "RateControlMode": "QVBR",
                                "CodecProfile": "HIGH",
                                "FramerateNumerator": 50000,
                                "MinIInterval": 0,
                                "AdaptiveQuantization": "AUTO",
                                "CodecLevel": "AUTO",
                                "GopSizeUnits": "FRAMES",
                                "ParControl": "SPECIFIED",
                                "NumberBFramesBetweenReferenceFrames": 3,
                                "DynamicSubGop": "ADAPTIVE"
                            }
                        },
                        "ColorMetadata": "IGNORE"
                    },
                    "NameModifier": "-1800"
                },
                {
                    "ContainerSettings": {
                        "Container": "CMFC"
                    },
                    "VideoDescription": {
                        "Width": 480,
                        "Height": 270,
                        "CodecSettings": {
                            "Codec": "H_264",
                            "H264Settings": {
                                "ParNumerator": 1,
                                "NumberReferenceFrames": 3,
                                "FramerateDenominator": 1000,
                                "GopClosedCadence": 1,
                                "GopSize": 112,
                                "GopBReference": "ENABLED",
                                "MaxBitrate": 1000000,
                                "ParDenominator": 1,
                                "FramerateControl": "SPECIFIED",
                                "RateControlMode": "QVBR",
                                "CodecProfile": "HIGH",
                                "FramerateNumerator": 50000,
                                "MinIInterval": 0,
                                "AdaptiveQuantization": "AUTO",
                                "CodecLevel": "AUTO",
                                "GopSizeUnits": "FRAMES",
                                "ParControl": "SPECIFIED",
                                "NumberBFramesBetweenReferenceFrames": 3,
                                "DynamicSubGop": "ADAPTIVE"
                            }
                        },
                        "ColorMetadata": "IGNORE"
                    },
                    "NameModifier": "-1000"
                },
                {
                    "ContainerSettings": {
                        "Container": "CMFC"
                    },
                    "VideoDescription": {
                        "Width": 320,
                        "Height": 180,
                        "CodecSettings": {
                            "Codec": "H_264",
                            "H264Settings": {
                                "ParNumerator": 1,
                                "NumberReferenceFrames": 3,
                                "FramerateDenominator": 1000,
                                "GopClosedCadence": 1,
                                "GopSize": 112,
                                "GopBReference": "ENABLED",
                                "MaxBitrate": 600000,
                                "ParDenominator": 1,
                                "FramerateControl": "SPECIFIED",
                                "RateControlMode": "QVBR",
                                "CodecProfile": "HIGH",
                                "FramerateNumerator": 50000,
                                "MinIInterval": 0,
                                "AdaptiveQuantization": "AUTO",
                                "CodecLevel": "AUTO",
                                "GopSizeUnits": "FRAMES",
                                "ParControl": "SPECIFIED",
                                "NumberBFramesBetweenReferenceFrames": 3,
                                "DynamicSubGop": "ADAPTIVE"
                            }
                        },
                        "ColorMetadata": "IGNORE"
                    },
                    "NameModifier": "-600"
                },
                {
                    "ContainerSettings": {
                        "Container": "CMFC",
                        "CmfcSettings": {
                            "AudioDuration": "MATCH_VIDEO_DURATION"
                        }
                    },
                    "AudioDescriptions": [
                        {
                            "AudioSourceName": "Audio Selector 1",
                            "AudioNormalizationSettings": {
                                "TargetLkfs": -23
                            },
                            "CodecSettings": {
                                "Codec": "AAC",
                                "AacSettings": {
                                    "Bitrate": 128000,
                                    "CodecProfile": "LC",
                                    "CodingMode": "CODING_MODE_2_0",
                                    "SampleRate": 48000
                                }
                            },
                            "StreamName": "English",
                            "LanguageCodeControl": "USE_CONFIGURED",
                            "LanguageCode": "ENG"
                        }
                    ],
                    "NameModifier": "-AAC-LC-128-EN-US"
                }
            ],
            "OutputGroupSettings": {
                "Type": "CMAF_GROUP_SETTINGS",
                "CmafGroupSettings": {
                    "WriteHlsManifest": "ENABLED",
                    "WriteDashManifest": "DISABLED",
                    "SegmentLength": 2,
                    "SegmentLengthControl": "GOP_MULTIPLE",
                    "MinFinalSegmentLength": 1,
                    "Destination": "s3://bucket/main/",
                    "FragmentLength": 2,
                    "SegmentControl": "SEGMENTED_FILES",
                    "ManifestDurationFormat": "FLOATING_POINT",
                    "ImageBasedTrickPlay": "ADVANCED",
                    "ImageBasedTrickPlaySettings": {
                        "ThumbnailHeight": 540,
                        "ThumbnailWidth": 960,
                        "TileHeight": 1,
                        "TileWidth": 1,
                        "IntervalCadence": "FOLLOW_IFRAME"
                    }
                }
            }
        }
    ],
    "Inputs": [
        {
            "AudioSelectors": {
                "Audio Selector 1": {
                    "DefaultSelection": "DEFAULT"
                }
            },
            "VideoSelector": {},
            "TimecodeSource": "ZEROBASED",
            "FileInput": "s3://bucket/test.mp4"
        }
    ]
}